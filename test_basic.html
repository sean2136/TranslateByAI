<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ’ä»¶åŸºç¡€åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            background: #f5f5f5;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 4px solid #007cba;
        }
        .success { border-left-color: #28a745; }
        .warning { border-left-color: #ffc107; }
        .error { border-left-color: #dc3545; }
        .code {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 3px;
            font-family: monospace;
            margin: 10px 0;
        }
        button {
            background: #007cba;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #005a8b;
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            display: none;
        }
        .status.show {
            display: block;
        }
        .status.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .status.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª AI Video Translator åŸºç¡€åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>ğŸ“‹ æµ‹è¯•æ¸…å•</h2>
        <p>è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æµ‹è¯•æ’ä»¶çš„åŸºç¡€åŠŸèƒ½ï¼š</p>
        
        <h3>1. æ’ä»¶å®‰è£…æµ‹è¯•</h3>
        <ul>
            <li>âœ… ä¸‹è½½æ‰€æœ‰å›¾æ ‡æ–‡ä»¶åˆ° icons æ–‡ä»¶å¤¹</li>
            <li>âœ… åœ¨ Chrome æ‰©å±•ç¨‹åºé¡µé¢åŠ è½½æ’ä»¶</li>
            <li>âœ… ç¡®è®¤æ’ä»¶å›¾æ ‡å‡ºç°åœ¨å·¥å…·æ </li>
        </ul>
        
        <h3>2. å¼¹å‡ºçª—å£æµ‹è¯•</h3>
        <button onclick="testPopup()">æµ‹è¯•å¼¹å‡ºçª—å£åŠŸèƒ½</button>
        <div id="popup-status" class="status"></div>
        <ul>
            <li>ç‚¹å‡»å·¥å…·æ å›¾æ ‡</li>
            <li>ç¡®è®¤å¼¹å‡ºçª—å£æ­£å¸¸æ˜¾ç¤º</li>
            <li>æµ‹è¯•æ‰€æœ‰è®¾ç½®æ§ä»¶</li>
            <li>ç‚¹å‡»ä¿å­˜æŒ‰é’®</li>
        </ul>
        
        <h3>3. YouTube é¡µé¢æµ‹è¯•</h3>
        <button onclick="openYouTube()">æ‰“å¼€ YouTube æµ‹è¯•é¡µé¢</button>
        <div id="youtube-status" class="status"></div>
        <ul>
            <li>è®¿é—® YouTube è§†é¢‘é¡µé¢</li>
            <li>æ‰“å¼€å¼€å‘è€…å·¥å…· (F12)</li>
            <li>æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—</li>
            <li>æµ‹è¯•æ’ä»¶å¼€å…³åŠŸèƒ½</li>
        </ul>
    </div>
    
    <div class="test-section warning">
        <h2>ğŸ” é¢„æœŸçš„æ§åˆ¶å°æ—¥å¿—</h2>
        <p>åœ¨ YouTube é¡µé¢çš„å¼€å‘è€…å·¥å…·æ§åˆ¶å°ä¸­ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„æ—¥å¿—ï¼š</p>
        <div class="code">
ğŸš€ VideoTranslator initializing...<br>
âš™ï¸ Settings loaded: {enabled: true, targetLanguage: "zh-CN", ...}<br>
âœ… VideoTranslator initialized successfully<br>
ğŸ” Waiting for video element...<br>
ğŸ¥ Video element found after 1 attempts<br>
ğŸ“¹ Video details: {src: "...", duration: 123.45, currentTime: 0}<br>
ğŸ“ Creating subtitle container...<br>
ğŸ“¦ Video container found, adding subtitle container
        </div>
    </div>
    
    <div class="test-section success">
        <h2>âœ… æˆåŠŸæ ‡å‡†</h2>
        <p>å¦‚æœä»¥ä¸‹æ‰€æœ‰é¡¹ç›®éƒ½æ­£å¸¸ï¼Œè¯´æ˜åŸºç¡€æ¡†æ¶å·¥ä½œæ­£å¸¸ï¼š</p>
        <ul>
            <li>æ’ä»¶æˆåŠŸå®‰è£…ï¼Œå›¾æ ‡æ˜¾ç¤ºåœ¨å·¥å…·æ </li>
            <li>ç‚¹å‡»å›¾æ ‡èƒ½æ‰“å¼€è®¾ç½®é¢æ¿</li>
            <li>è®¾ç½®é¢æ¿æ‰€æœ‰æ§ä»¶éƒ½èƒ½æ­£å¸¸äº¤äº’</li>
            <li>åœ¨ YouTube é¡µé¢èƒ½çœ‹åˆ°å†…å®¹è„šæœ¬åŠ è½½æ—¥å¿—</li>
            <li>å¼€å¯ç¿»è¯‘åèƒ½çœ‹åˆ°"AIç¿»è¯‘å·²å‡†å¤‡å°±ç»ª"çš„æµ‹è¯•æ¶ˆæ¯</li>
        </ul>
    </div>
    
    <div class="test-section error">
        <h2>ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥</h2>
        
        <h3>æ’ä»¶æ— æ³•åŠ è½½</h3>
        <ul>
            <li>æ£€æŸ¥æ‰€æœ‰å›¾æ ‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨äº icons æ–‡ä»¶å¤¹</li>
            <li>ç¡®è®¤ manifest.json è¯­æ³•æ­£ç¡®</li>
            <li>æŸ¥çœ‹æ‰©å±•ç¨‹åºé¡µé¢çš„é”™è¯¯ä¿¡æ¯</li>
        </ul>
        
        <h3>å¼¹å‡ºçª—å£æ— æ³•æ‰“å¼€</h3>
        <ul>
            <li>å³é”®ç‚¹å‡»æ’ä»¶å›¾æ ‡ï¼Œé€‰æ‹©"æ£€æŸ¥å¼¹å‡ºå¼çª—å£"</li>
            <li>æŸ¥çœ‹æ˜¯å¦æœ‰ JavaScript é”™è¯¯</li>
            <li>ç¡®è®¤ popup.htmlã€popup.cssã€popup.js æ–‡ä»¶å­˜åœ¨</li>
        </ul>
        
        <h3>YouTube é¡µé¢æ— ååº”</h3>
        <ul>
            <li>ç¡®è®¤å†…å®¹è„šæœ¬æƒé™æ­£ç¡®</li>
            <li>æ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰ JavaScript é”™è¯¯</li>
            <li>å°è¯•åˆ·æ–°é¡µé¢</li>
        </ul>
    </div>
    
    <div class="test-section">
        <h2>ğŸ”§ è°ƒè¯•å·¥å…·</h2>
        <button onclick="checkExtensionStatus()">æ£€æŸ¥æ’ä»¶çŠ¶æ€</button>
        <button onclick="showConsoleCommands()">æ˜¾ç¤ºè°ƒè¯•å‘½ä»¤</button>
        <div id="debug-info" class="status"></div>
    </div>

    <script>
        function testPopup() {
            const status = document.getElementById('popup-status');
            status.className = 'status show success';
            status.innerHTML = 'è¯·ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ ä¸­çš„æ’ä»¶å›¾æ ‡æ¥æµ‹è¯•å¼¹å‡ºçª—å£åŠŸèƒ½ã€‚<br>å¦‚æœå¼¹å‡ºçª—å£æ­£å¸¸æ˜¾ç¤ºï¼Œè¯´æ˜åŸºç¡€UIåŠŸèƒ½æ­£å¸¸ã€‚';
        }
        
        function openYouTube() {
            const status = document.getElementById('youtube-status');
            status.className = 'status show success';
            status.innerHTML = 'æ­£åœ¨æ‰“å¼€ YouTube æµ‹è¯•é¡µé¢...';
            
            // Open a YouTube video with captions
            window.open('https://www.youtube.com/watch?v=dQw4w9WgXcQ', '_blank');
            
            setTimeout(() => {
                status.innerHTML = 'YouTube é¡µé¢å·²æ‰“å¼€ã€‚è¯·åœ¨æ–°æ ‡ç­¾é¡µä¸­æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ã€‚';
            }, 1000);
        }
        
        function checkExtensionStatus() {
            const debugInfo = document.getElementById('debug-info');
            debugInfo.className = 'status show success';
            
            if (typeof chrome !== 'undefined' && chrome.runtime) {
                debugInfo.innerHTML = `
                    <strong>Chrome æ‰©å±• API å¯ç”¨</strong><br>
                    Runtime ID: ${chrome.runtime.id || 'N/A'}<br>
                    è¯·åœ¨ chrome://extensions/ é¡µé¢æ£€æŸ¥æ’ä»¶çŠ¶æ€
                `;
            } else {
                debugInfo.className = 'status show error';
                debugInfo.innerHTML = 'æ­¤é¡µé¢æ— æ³•ç›´æ¥æ£€æŸ¥æ’ä»¶çŠ¶æ€ã€‚è¯·åœ¨ chrome://extensions/ é¡µé¢æŸ¥çœ‹ã€‚';
            }
        }
        
        function showConsoleCommands() {
            const debugInfo = document.getElementById('debug-info');
            debugInfo.className = 'status show success';
            debugInfo.innerHTML = `
                <strong>åœ¨ YouTube é¡µé¢æ§åˆ¶å°ä¸­å¯ä»¥ä½¿ç”¨çš„è°ƒè¯•å‘½ä»¤ï¼š</strong><br>
                <div class="code">
                // æ£€æŸ¥è§†é¢‘å…ƒç´ <br>
                document.querySelector('video')<br><br>
                // æ£€æŸ¥å­—å¹•å®¹å™¨<br>
                document.getElementById('ai-translator-subtitles')<br><br>
                // æ£€æŸ¥ YouTube å­—å¹•<br>
                document.querySelectorAll('.caption-window')
                </div>
            `;
        }
    </script>
</body>
</html>
